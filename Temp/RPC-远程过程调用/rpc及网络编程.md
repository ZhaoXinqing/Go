
RPC：Remote Procedure Call（远程过程调用）
    - 是什么？
        - 是一种建立在Socket之上，通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的服务；
        - 网络编程必须使用socket吗？Socket本身并不是协议，而是对TCP/IP协议的封装，是一个调用接口（API），通过Socket我们才能使用TCP/IP协议。
        - RPC封装了socket细节

    - RPC 本身是 client-server模型,也是一种 request-response 协议。

    - 核心：网络传输协议；
        - 要实现一个 RPC，需要选择网络传输的方式。
        - 在 RPC 中可选的网络传输方式有多种，可以选择 TCP 协议、UDP 协议、HTTP 协议

    - 核心功能：
        - 服务寻址：
        - 序列化和反序列化：
        - 网络传输：

    - RPC框架：
        - 怎么理解框架：
            - 通过屏蔽底层的传输方式(TCP或者UDP)，序列化方式(XML/JSON/二进制)和通信细节，为使用者提供一种不必显式的区分本地调用和远程调用的透明调用机制；
            - 使用者只需了解谁在什么位置提供什么样的远程服务即可，并不需要关心底层通信细节和调用过程。
        
        - 重要组成部分：
            - 客户端(Client)：服务调用方。
            - 客户端存根(Client Stub)：存放服务端地址信息，将客户端的请求参数数据信息打包成网络消息，再通过网络传输发送给服务端。
            - 服务端存根(Server Stub)：接收客户端发送过来的请求消息并进行解包，然后再调用本地服务进行处理。
            - 服务端(Server)：服务的真正提供者。
            - Network Service：底层传输，可以是 TCP 或 HTTP。 
        
        - 开源框架：
            - gRPC：
                - 是是一个 Google 公布的高性能、开源和通用的 RPC 框架,基于的 HTTP 2.0 协议，底层使用到了 Netty 框架的支持。并支持常见的众多编程语言。目前提供 C、Java 和 Go 语言版本，分别是：grpc, grpc-java, grpc-go.               
                - gRPC 基于 HTTP/2 标准设计，带来诸如双向流、流控、头部压缩、单 TCP 连接上的多复用请求等特。这些特性使得其在移动设备上表现更好，更省电和节省空间占用。
            - Thrift：
                - 是 Facebook 的开源 RPC 框架，主要是一个跨语言的服务开发框架。用户只要在其之上进行二次开发就行，应用对于底层的 RPC 通讯等都是透明的。不过这个对于用户来说需要学习特定领域语言这个特性，还是有一定成本的。
            - Dubbo：
                - 是阿里集团开源的一个极为出名的 RPC 框架，在很多互联网公司和企业应用中广泛使用。协议和序列化框架都可以插拔是极其鲜明的特色。 

    - 调用的流程：
        1、服务消费者(Client)通过本地调用服务，
            - 客户端存根(Client Stub)找到远程服务地址，并将请求信息（方法，入参）序列化，以便于网络传输发送信息给服务端；
        2、服务端存根(Server Stub)收到消息，并进行解码(反序列化操作)，并根据解码结果调用本地的服务进行相关处理；
        3、服务端(Server)本地服务业务处理，并将结果返回给服务端存根;
            - 服务端存根序列化结果，并通过网络发送至消费方。
        4、客户端存根收到消息，并进行解码，服务消费方得到最终结果。

    - RPC分类：
        - 从通信协议的层面，大致可以分为：
            1、基于HTTP协议的（例如基于文本的SOAP（XML）、REST（JSON）、基于二进制Hessian（Binary））；
            2、基于TCP协议的（通常会借助Mina、Netty等高性能网络框架）。
    
    - RPC 和 RESTful API(http)：
        - 性能：
            - rpc模式比http模式速度更快的根本原因是，Tcp（传输层协议）是等于在http（应用层协议）的基础上做减法。
            - rpc可以通过thrift实现二进制传输
            - http json序列化更消耗性能
        - 传输协议：
            - rpc可以基于tcp协议，也可以基于http协议
            - http只能基于http协议
        - 负载均衡：
            - rpc自带负载均衡
            - http需要自己搞，比如nginx
        - 传输效率：
            - 可以自定义报文，报文相对较小。
            - http有很多无用的东西（很多头部信息，keepalivetime，referer）
        - 通知：
            - rpc自动通知
            - http事先通知，自行修改nginx配置或者其他负载均衡的配置；
    
    - 主要作用：
        - 在提供强大的远程调用能力时不损失本地调用的语义简洁性，让构建分布式计算（应用）变得更加简单。
        - 通过RPC，可以将应用分布在多台应用服务器上，可以方便的实现过程代码共享，提高系统资源的利用率，也可以将以大量数值处理的操作放在处理能力较强的系统上运行，从而减轻前端机的负担；
   
    - 应用场景:
        - RPC 主要用于公司内部的服务调用，性能消耗低，传输效率高，实现复杂。HTTP 主要用于对外的异构环境，浏览器接口调用，App 接口调用，第三方接口调用等。

http://books.studygolang.com/go-rpc-programming-guide/part1/client.html