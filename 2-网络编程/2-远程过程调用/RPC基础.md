## RPC（远程过程调用）

是一种建立在Socket之上，封装了socket细节，通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的服务，RPC本身是client-server模型，也是一种request-response协议；

## 应用场景：

​    (1)让构建分布式应用变得更加简单，在提供强大的远程调用能力时不损失本地调用的语义简洁性；
​    (2)过RPC，可以将应用分布在多台应用服务器上，可以方便的实现过程代码共享，提高系统资源的利用率，也可以将以大量数值处理的操作放在处理能力较强的系统上运行，从而减轻前端机的负担；
​    (3)主要用于公司内部的服务调用，性能消耗低，传输效率高，但实现比较复杂


WebSocket 和 Socket 的区别：https://zhidao.baidu.com/question/750010189618451132.html

TCP 重传、滑动窗口、流量控制、拥塞控制:https://www.jianshu.com/p/5b07a2f05771

网络编程之socket的运用：https://www.cnblogs.com/xuecaichang/p/9580448.html

电脑在生成数据包时是怎么知道对方电脑的ip地址的，（DNS）？
我们的电脑的数据包应该由谁来帮我们传输呢？（网关），
网关又是如何帮我们把数据包传输到目的地的？（各种路由协议）

TCP/IP 协议：https://www.jianshu.com/p/9f3e879a4c9c；
HTTP 协议：https://www.jianshu.com/p/6e9e4156ece3：


## 核心功能

#### 1-服务寻址：

#### 2-序列化和反序列化：

#### 3-网络传输：

在RPC中可选的网络传输方式有多种，可以选择TCP协议、UDP协议、HTTP协议

RPC是建立在Socket之上的，它比socket需要更多的网络和系统资源



## 服务流程：

​    (1)服务消费者(Client)通过本地调用服务
​       客户端存根(ClientStub)找到远程服务地址，并将请求信息（方法，入参）序列化，以便于网络传输发送信息给服务端；
​    (2)服务端存根(ServerStub)收到消息，进行解码(反序列化操作)，并根据解码结果调用本地的服务进行相关处理；
​       服务端(Server)本地服务业务处理，并将结果返回给服务端存根;
​       服务端存根序列化结果，并通过网络发送至消费方
​    (3)客户端存根收到消息，并进行解码，服务消费方得到最终结果。
​    

## 和RESTfulAPI(http)相比：

​    (1)rpc模式比http模式速度更快的根本原因是，Tcp（传输层协议）是等于在http（应用层协议）的基础上做减法。
​    (2)RPC可自定义报文，且自带负载均衡（http需要自己搞，比如nginx），可以基于tcp协议，也可基于http协议；
​    (3)HTTP主要用于对外的异构环境，浏览器接口调用，App接口调用，第三方接口调用等。
​    

## 开源框架：

​    (1)gRPC：是Google开源的，通用的高性能RPC框架，基于的HTTP2.0协议，底层使用到了Netty框架的支持，基于ProtoBuf(ProtocolBuffers)序列化协议开发，并支持常见的众多编程语言。目前提供C、Java和Go语言版本（grpc,grpc-java,grpc-go）
​        ①gRPC基于HTTP/2标准设计，带来诸如双向流、流控、头部压缩、单TCP连接上的多复用请求等特。这些特性使得其在移动设备上表现更好，更省电和节省空间占用。
​    (2)Thrift：是Facebook的开源RPC框架，也是是一个跨语言的服务开发框架。用户只要在其之上进行二次开发就行，应用对于底层的RPC通讯等都是透明的。不过这个对于用户来说需要学习特定领域语言这个特性，还是有一定成本的。
​    (3)Dubbo：是阿里集团开源的一个极为出名的RPC框架，在很多互联网公司和企业应用中广泛使用。协议和序列化框架都可以插拔是极其鲜明的特色。