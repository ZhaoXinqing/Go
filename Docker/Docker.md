## 一、为什么需要Docker ##

1. 开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作”的问题。
1. 运维人员利用 Docker 可以在隔离容器中并行运行和管理应用，获得更好的计算密度。
1. 企业利用 Docker 可以构建敏捷的软件交付管道，以更快的速度、更高的安全性和可靠的信誉为 Linux 和 Windows Server 应用发布新功能。


###1.1环境(切换/配置)麻烦
一般我们写程序的，能接触到好几个环境：

1. 自己写代码的环境叫做开发环境。
1. 给测试去跑的环境叫做测试环境。
1. 测试完可以对外使用的叫做生产环境。


###1.2应用之间需要隔离
比如我写了两个应用(网站)，这两个应用部署在同一台服务器上，那可能会出现什么问题？

1. 如果一个应用出现了问题，导致CPU占100%。那另一个应用也会受到关联，跟着一起凉凉了。
1. 这两个应用是完全不同技术栈的应用，比如一个PHP，一个.NET。这两个应用各种的依赖软件都安装在同一个服务器上，可能就会造成各种冲突/无法兼容，这可能调试就非常麻烦了。

##二、Docker是如何解决上述的问题的

###2.1解决环境(切换/配置)

镜像的构建、推送、拉取、运行，
但有过了解装系统的同学可能就会知道，有的镜像装完可能还有360这些软件，但系统的的确确是变了。简单来说，就是这些镜像添加了其他的东西(比如360软件、腾讯、千千静听等等软件)。

Docker也是这种思路，可以将我们的想要的环境构建(打包)成一个镜像，然后我们可以推送(发布)到网上去。想要用这个环 境的时候，在网上拉取一份就好了。

###2.2解决应用之间隔离
概念：LXC(Linux Containers)--->Linux容器。

####2.2.1Linux容器
- 在Linux内核中，提供了cgroups功能，来达成资源的区隔化。它同时也提供了名称空间(namespace)区隔化的功能，使应用程序看到的操作系统环境被区隔成独立区间，包括进程树，网络，用户id，以及挂载的文件系统。
- 简单来说就是：LXC是一个为Linux内核包含特征的用户接口。通过强大的API和简单的工具，它可以让Linux用户轻松的创建和托管系统或者应用程序容器。

####2.2.2回到Docker
- Docker底层用的Linux的cgroup和namespace这两项技术来实现应用隔离
- lxc是早期版本docker的一个基础组件，docker 主要用到了它对 Cgroup 和 Namespace 两个内核特性的控制。新的Docker版本已经移除了对LXC的support。

##三、虚拟机和Docker
一句话总结：Docker容器比虚拟机轻量多了！
![](https://pic2.zhimg.com/80/v2-a17759859f1e5c8bc9657d641b68fcc1_720w.jpg)<br>
容器和虚拟机具有类似的资源隔离和分配优势，但功能不同，因为容器虚拟化操作系统而不是硬件。容器更便携、更高效。<br>
[什么是容器？](https://www.docker.com/resources/what-container#/virtual_machines)<br>

1. 将软件打包到标准化单元中，用于开发、装运和部署.
1. 用在Linux、Windows、数据中心、云、服务器等。