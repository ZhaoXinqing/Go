在网络通信和通用数据交换等应用场景中经常使用的技术是 JSON 或 XML，还有比较新的技术Google的 ProtoBuf。

## 1、JSON：JavaScript Object Notation（JS 对象标记） ##
一种轻量级的数据交换格式（数据格式比较简单， 易于读写， 格式都是压缩的， 占用带宽小）能够替代XML的工作。它起源于JavaScript的数据对象，之后独立成为一种web较为流行的数据交换标准。json的语法是非常明显的键值对结构，利于理解。

当项目没有你接手的时候，没有强行用XML的情况下，你就用JSON，没有其他额外强行规定的情况下，你就用JSON
用json来写，应该是这样的。


json的语法，是非常明显的键值对(key-value)，key不允许重复，且需以双引号包括，键值对中允许嵌套，值可以为字符(使用双引号或者单引号包括)、数值、布尔型(true\false)、数组（[1,2,3,5]）或者null。同级元素间以“,”隔开，花括号包含的的内容被称为对象，键值对中值也允许为对象。

 

## 2、XML（可扩展标记语言） ##
XML的出现解决了程序间数据传输的问题： 用XML格式来传送数据，具有良好的可读性，可维护性（QQ之间的数据传送）。XML可以充当小型的数据库 这种方式直接读取文件显然要比读数据库快。比如msn中保存用户聊天记录就是用XML文件。
	


一个典型的xml文档如上所示，第一行是xml的文档头声明，主要包含xml的版本、字符编码信息。之后的几行时xml文档的主题内容。该xml文件包含的内容信息均以标签对进行封装，每一个值都包括在起始标签（<label>）和闭合标签（<label/>）之间，标签层级间允许嵌套。

 

## 3、ProtoBuf ##
protocol buffers 是一种语言无关、平台无关、可扩展的序列化结构数据的方法，它可用于（数据）通信协议、数据存储等。

Protocol Buffers 是一种灵活，高效，自动化机制的结构数据序列化方法－可类比 XML，但是比 XML 更小（3 ~ 10倍）、更快（20 ~ 100倍）、更为简单。

你可以定义数据的结构，然后使用特殊生成的源代码轻松的在各种数据流中使用各种语言进行编写和读取结构数据。你甚至可以更新数据结构，而不破坏由旧数据结构编译的已部署程序。

简单来讲， ProtoBuf 是结构数据序列化[1] 方法，可简单类比于 XML[2]，其具有以下特点：

- 语言无关、平台无关。即 ProtoBuf 支持 Java、C++、Python 等多种语言，支持多个平台
- 高效。即比 XML 更小（3 ~ 10倍）、更快（20 ~ 100倍）、更为简单
- 扩展性、兼容性好。你可以更新数据结构，而不影响和破坏原有的旧程序
- 序列化：将结构数据或对象转换成能够被存储和传输（例如网络传输）的格式，同时应当要保证这个序列化结果在之后（可能在另一个计算环境中）能够被重建回原来的结构数据或对象。

使用：

	第一步，创建 .proto 文件，定义数据结构
	第二步，protoc 编译 .proto 文件生成读写接口
	第三步，调用接口实现序列化、反序列化以及读写

链接：https://www.jianshu.com/p/a24c88c0526a

 
## 比较（1）：ProtoBuf、XML、JSON ##

两个维度：一个是数据结构化（侧重人类可读性甚至有时会强调语义表达能力），一个是数据序列化（侧重效率和压缩）。XML 作为一种扩展标记语言，JSON 作为源于 JS 的数据格式，都具有数据结构化的能力。例如 XML 可以衍生出 HTML （虽然 HTML 早于 XML，但从概念上讲，HTML 只是预定义标签的 XML）

XML、JSON、ProtoBuf 都具有数据结构化和数据序列化的能力
XML、JSON 更注重数据结构化，关注人类可读性和语义表达能力。ProtoBuf 更注重数据序列化，关注效率、空间、速度，人类可读性差，语义表达能力不足（为保证极致的效率，会舍弃一部分元信息）
ProtoBuf 的应用场景更为明确，XML、JSON 的应用场景更为丰富。
 

## 对比（2）：Json、xml ##
json在某种程度上跟xml有点像，两者都可以作为数据存储对象，有着类似键值对的语法结构。但是xml由于是对称标签结构，而json仅适用“{”，“[”，“<”,“>”等标点符号来作为层级和标签起始点结构，所以json省去了大量冗余字符信息，这也是网络上争吵不断的关于xml和json孰优孰略的焦点之一。

在当前桌面端以及web端应用中，xml主要用于书写配置文件，json则用在web场景下的http请求参数提交或者数据返回。当然json也可以用于桌面软件配置文件，xml也可以用于网络文件传输和数据交换。

桌面端场景：

（一）我们熟知的office平台，所有的模板文件、配色文件均以xml书写的。


 

（二）但是在微软的新版BI工具中，PowerBI的配色文件已经开始使用json语法来书写了。


 

（三）在商务可视化场景中非常出色的BI工具Tabeau，也使用了xml作为配色模板的书写语言：


这一份配色表，定义了两套色板，主体是xml语法，但是格式化之后，非常简单易懂。

总结：随便挑了三个软件的配置文件，结果有两个时xml写的，一个是json的。从目前的发展趋势来看，xml定义的标准比较早，属于先发优势，json则因为轻量级，冗余信息少，应用场景在逐步扩展。

 

### web端场景： ###

（一）网易云课堂的课程内容信息是异步加载，它的请求提交参数和相应数据格式均为json格式的。

 

（二）知乎live的课程信息，参数提交和相应也是首选json。


（三） B站的视频信息列表，相应数据格式josn格式的的。


（四）豆瓣电影短评的数据请求数据返回是html格式的（可以归为xml类，因为语法和解析工具都是一致的）。

 



总结：可以看到，主流网站涉及异步加载的内容，大多都选择了json作为数据交换格式，而静态网站或者不愿意开放api的网站，仍然使用html/xml较多。但是随着今后web端ajax技术扩散程度的加深，相信json标准会有更广泛的应用。