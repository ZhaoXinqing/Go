## docker是什么 ##
是一个开源的引擎，可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。
它也是一个容器化平台，它将应用程序及其所有依赖项（代码、运行时、系统工具、系统库）以容器的形式打包在一起，以确保应用程序在任何环境（无论是开发环境、测试环境还是生产环境）中无缝运行。

## 解决了什么问题 ##
Docker 简化并加快了工作流程，同时让开发人员可以自由地通过每个项目选择的工具、应用程序堆栈和部署环境进行创新。
https://www.docker.com/why-docker
1. 开发人员利用 Docker 可以消除协作编码时“在我的机器上可正常工作”的问题。
1. 运维人员利用 Docker 可以在隔离容器中并行运行和管理应用，获得更好的计算密度。
1. 企业利用 Docker 可以构建敏捷的软件交付管道，以更快的速度、更高的安全性和可靠的信誉为 Linux 和 Windows Server 应用发布新功能。
**1、解决环境(切换/配置)**
镜像的构建、推送、拉取、运行，
但有过了解装系统的同学可能就会知道，有的镜像装完可能还有360这些软件，但系统的的确确是变了。简单来说，就是这些镜像添加了其他的东西(比如360软件、腾讯、千千静听等等软件)。
Docker也是这种思路，可以将我们的想要的环境构建(打包)成一个镜像，然后我们可以推送(发布)到网上去。想要用这个环境的时候，在网上拉取一份就好了。
**2、解决应用之间隔离**
概念：LXC(Linux Containers)--->Linux容器。
比如我写了两个应用(网站)，这两个应用部署在同一台服务器上，那可能会出现什么问题？
1. 如果一个应用出现了问题，导致CPU占100%。那另一个应用也会受到关联，跟着一起凉凉了。
1. 这两个应用是完全不同技术栈的应用，比如一个PHP，一个.NET。这两个应用各种的依赖软件都安装在同一个服务器上，可能就会造成各种冲突/无法兼容，这可能调试就非常麻烦了。


## Docker三大核心概念 ##
镜像、容器（Container）、仓库
**镜像（Image）**：Docker容器的源代码。
**容器（Container）**：包括应用程序及其所有依赖项，但与其他容器共享内核，在主机操作系统的用户空间中作为独立进程运行。Docker容器不依赖于任何特定的基础架构：它们可以在任何计算机，任何基础架构和任何云中运行。
**仓库（Repository）**：仓库是存放一组关联镜像的集合，比如同一个应用的不同版本的镜像，*注册服务器* 是存放实际的镜像的地方，*注册索引* 则负责维护用户的账号，权限，搜索，标签等管理。注册服务器利用注册索引来实现认证等管理。

## 为什么docker适合微服务
它使得创建轻量级的隔离容器非常易用，它们可以轻巧。因为一个用程序与底层架构解耦，因此它十分轻便并易于使用。而且很容易创建一套新的容器；Docker编排解决方案（如Docker Swarm，Kubernetes 或AWS ECS）可以轻松地加速由多个容器组成的新服务，并全部以全自动的方式进行。因此docker非常适合微服务


## Docker与LXC（Linux Container）
*Linux*
- 在Linux内核中，提供了cgroups功能，来达成资源的区隔化。它同时也提供了名称空间(namespace)区隔化的功能，使应用程序看到的操作系统环境被区隔成独立区间，包括进程树，网络，用户id，以及挂载的文件系统。
- 简单来说就是：LXC是一个为Linux内核包含特征的用户接口。通过强大的API和简单的工具，它可以让Linux用户轻松的创建和托管系统或者应用程序容器。
*docker*
- Docker底层用的Linux的cgroup和namespace这两项技术来实现应用隔离
- lxc是早期版本docker的一个基础组件，docker 主要用到了它对 Cgroup 和 Namespace 两个内核特性的控制。新的Docker版本已经移除了对LXC的support。

LXC利用Linux上相关技术实现容器，Docker则在如下的几个方面进行了改进：
1. 移植性：通过抽象容器配置，容器可以实现一个平台移植到另一个平台；
1. 镜像系统：基于AUFS的镜像系统为容器的分发带来了很多的便利，同时共同的镜像层只需要存储一份，实现高效率的存储；
1. 版本管理：类似于GIT的版本管理理念，用户可以更方面的创建、管理镜像文件；
1. 仓库系统：仓库系统大大降低了镜像的分发和管理的成本；
1. 周边工具：各种现有的工具（配置管理、云平台）对Docker的支持，以及基于Docker的Pass、CI等系统，让Docker的应用更加方便和多样化。

一句话总结：Docker容器比虚拟机轻量多了！
![](https://pic2.zhimg.com/80/v2-a17759859f1e5c8bc9657d641b68fcc1_720w.jpg)<br>
容器和虚拟机具有类似的资源隔离和分配优势，但功能不同，因为容器虚拟化操作系统而不是硬件。容器更便携、更高效。<br>
[什么是容器？](https://www.docker.com/resources/what-container#/virtual_machines)<br>

1. 将软件打包到标准化单元中，用于开发、装运和部署.
1. 用在Linux、Windows、数据中心、云、服务器等。

## Docker使用场景： ##

web应用的自动化打包和发布；
自动化测试和持续集成、发布；
在服务型环境中部署和调整数据库或其他的后台应用；
从头编译或者扩展现有的OpenShift或Cloud Foundry平台来搭建自己的PaaS环境。


**docker资源**
https://www.docker.org.cn/page/resources.html